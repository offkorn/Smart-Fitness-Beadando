CREATE TABLE USERS 
(
    USER_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    USERNAME VARCHAR2(50) NOT NULL,
    EMAIL VARCHAR2(100) NOT NULL UNIQUE,
    AGE NUMBER,
    WEIGHT NUMBER,
    HEIGHT NUMBER,
    FITNESS_LEVEL VARCHAR2(20), -- (beginner,advanced..)
    GOAL VARCHAR2(50) -- (lose fat, gain muscle, stb.)
);



CREATE TABLE WORKOUT_PLANS 
(
    PLAN_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    USER_ID NUMBER,
    PLAN_NAME VARCHAR2(100) NOT NULL,
    PLAN_DESCRIPTION VARCHAR2(500),
    DURATION_WEEKS NUMBER, 
    PREFERRED_WORKOUT_TYPE VARCHAR2(50), -- (gym, bodyweight)
    FOREIGN KEY (USER_ID) REFERENCES USERS(USER_ID)
);

CREATE TABLE WORKOUT_DAYS 
(
    DAY_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    PLAN_ID NUMBER,
    DAY_NUMBER NUMBER NOT NULL, 
    EXERCISE_LIST VARCHAR2(500), 
    STATUS VARCHAR2(20) DEFAULT 'Not Started', -- elvegezte or nem vegezte
    FOREIGN KEY (PLAN_ID) REFERENCES WORKOUT_PLANS(PLAN_ID)
);

CREATE TABLE WORKOUT_STATUS 
(
    STATUS_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    USER_ID NUMBER,
    DAY_ID NUMBER,
    STATUS_DATE DATE DEFAULT SYSDATE,
    STATUS VARCHAR2(20) DEFAULT 'Not Completed', -- completed or not completed
    FOREIGN KEY (USER_ID) REFERENCES USERS(USER_ID),
    FOREIGN KEY (DAY_ID) REFERENCES WORKOUT_DAYS(DAY_ID)
);

CREATE TABLE NOTIFICATIONS 
(
    NOTIF_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    USER_ID NUMBER,
    MESSAGE VARCHAR2(500),
    SENT_DATE DATE DEFAULT SYSDATE,
    FOREIGN KEY (USER_ID) REFERENCES USERS(USER_ID)
);



